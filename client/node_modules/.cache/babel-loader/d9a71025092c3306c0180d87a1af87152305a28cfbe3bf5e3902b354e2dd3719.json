{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useParams,useNavigate}from'react-router-dom';import{fetchPostDetail,clearPostDetail}from'../../features/postDetail/postDetailSlice';import PostContent from'../../components/PostContent/PostContent';import PostContentSkeleton from'../../components/PostContentSkeleton/PostContentSkeleton';import'./PostDetailPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PostDetailPage=()=>{const{id}=useParams();const dispatch=useDispatch();const navigate=useNavigate();const{post,comments,status,error}=useSelector(state=>state.postDetail);useEffect(()=>{dispatch(fetchPostDetail(id));return()=>{dispatch(clearPostDetail());};},[dispatch,id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"post-detail-page\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate(-1),children:\"\\u2190 Back\"}),status==='loading'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PostContentSkeleton,{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"comments-list\",children:Array(3).fill().map((_,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"comment-skeleton\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-skeleton-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"skeleton-text small author\"}),/*#__PURE__*/_jsx(\"div\",{className:\"skeleton-text small upvotes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"skeleton-text body\"})]},i))})]}):status==='failed'?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}):/*#__PURE__*/_jsxs(_Fragment,{children:[post&&/*#__PURE__*/_jsx(PostContent,{post:post}),/*#__PURE__*/_jsx(\"h4\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"comments-list\",children:comments.map(comment=>/*#__PURE__*/_jsx(\"li\",{className:\"comment\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:comment.author}),\": \",comment.body]})},comment.id))})]})]});};export default PostDetailPage;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useParams","useNavigate","fetchPostDetail","clearPostDetail","PostContent","PostContentSkeleton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PostDetailPage","id","dispatch","navigate","post","comments","status","error","state","postDetail","className","children","onClick","Array","fill","map","_","i","comment","author","body"],"sources":["C:/reddit-client/client/src/pages/PostDetailPage/PostDetailPage.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { fetchPostDetail, clearPostDetail } from '../../features/postDetail/postDetailSlice';\r\nimport PostContent from '../../components/PostContent/PostContent';\r\nimport PostContentSkeleton from '../../components/PostContentSkeleton/PostContentSkeleton';\r\nimport './PostDetailPage.css';\r\n\r\nconst PostDetailPage = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { post, comments, status, error } = useSelector((state) => state.postDetail);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPostDetail(id));\r\n\r\n    return () => {\r\n      dispatch(clearPostDetail());\r\n    };\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <div className=\"post-detail-page\">\r\n      <button className=\"back-button\" onClick={() => navigate(-1)}>\r\n        ‚Üê Back\r\n      </button>\r\n\r\n      {status === 'loading' ? (\r\n        <>\r\n          <PostContentSkeleton />\r\n          <h4>Comments</h4>\r\n      <ul className=\"comments-list\">\r\n        {Array(3).fill().map((_, i) => (\r\n          <li key={i} className=\"comment-skeleton\">\r\n            <div className=\"comment-skeleton-header\">\r\n              <div className=\"skeleton-text small author\"></div>\r\n              <div className=\"skeleton-text small upvotes\"></div>\r\n        </div>\r\n        <div className=\"skeleton-text body\"></div>\r\n    </li>\r\n  ))}\r\n</ul>\r\n\r\n        </>\r\n      ) : status === 'failed' ? (\r\n        <p>Error: {error}</p>\r\n      ) : (\r\n        <>\r\n          {post && <PostContent post={post} />}\r\n          <h4>Comments</h4>\r\n          <ul className=\"comments-list\">\r\n            {comments.map((comment) => (\r\n              <li key={comment.id} className=\"comment\">\r\n                <p><strong>{comment.author}</strong>: {comment.body}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}